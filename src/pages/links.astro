---
import { Image } from "astro:assets";

import LinksLayout from "@/layouts/LinksLayout.astro";

import SocialNetworks from "@/sections/links/SocialNetworks.astro";

import { api } from "@/lib/api";

const links = await api.links.getAll();

Astro.response.headers.set(
  "Cache-Control",
  "public, s-maxage=60, stale-while-revalidate=30",
);
---

<LinksLayout title="Links de Gaterapia">
  <main class="w-full px-9 min-[750px]:px-4 pb-16 flex flex-col gap-16">
    <section
      class={`
        w-full max-w-[635px] mx-auto pt-8
        flex flex-col gap-3 justify-center items-center
      `}
    >
      <Image
        width="232"
        height="232"
        loading="eager"
        src="/gaterapia-logo.png"
        alt="Logotipo de Gaterapia"
      />
      <SocialNetworks />
    </section>
    <section class="w-full max-w-[635px] mx-auto flex flex-col gap-4">
      {
        links.map((link) => (
          <a
            href={link.url}
            target="_blank"
            rel="noopener noreferrer"
            class={`
              rounded-2xl p-4
              text-center text-white font-bold
              border-2 border-white bg-white/20
              transition-all hover:bg-white/10 hover:shadow-lg hover:shadow-neutral-300
            `}
          >
            {link.link}
          </a>
        ))
      }
    </section>
  </main>
</LinksLayout>
